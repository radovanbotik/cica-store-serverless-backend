import { dirname } from 'path';
import { readPackageUp } from 'read-pkg-up';
/**
 * Retrieve `package.json` from a specific directory
 */
export const getPackageJson = async function (cwd, options = {}) {
    const result = {
        packageJson: {},
    };
    try {
        const { path, packageJson } = await readPackageUp({
            cwd,
            ...Object.assign({ normalize: true }, options),
        });
        result.packageJson = packageJson;
        result.packageDir = dirname(path);
    }
    catch {
        // continue regardless error
    }
    return result;
};
